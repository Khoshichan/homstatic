## Drupal: Render Snippets
- - -
### Adding templates from the module folder to the registry

    /**
     * Implements hook_theme_registry_alter().
     */
    function hook_theme_registry_alter(&$registry) {
      $path = drupal_get_path('module', 'my_module') . '/templates';
      $registry += drupal_find_theme_templates($registry, '.tpl.php', $path);
    }

### Enable custom template for some pages.

    /**
     * Returns TRUE if current page is correct.
     *
     * @return bool
     */
    function _is_correct_page() {
      $result =& drupal_static(__FUNCTION__);
    
      if (!isset($result)) {
        $result = in_array($_GET['q'], array('page1', 'page2', 'page3'));
      }
    
      return $result;
    }
    
    /**
     * Implements hook_preprocess_html().
     */
    function hook_preprocess_html(&$vars) {
      if (_is_correct_page()) {
        $vars['theme_hook_suggestion'] = 'html__custompage';
      }
    }
    
    /**
     * Implements hook_preprocess_page().
     */
    function hook_preprocess_page(&$vars) {
      if (_is_correct_page()) {
        $vars['theme_hook_suggestion'] = 'page__custompage';
      }
    }
    
Then just create follow templates inside your module:
* templates/html--custompage.tpl.php
* templates/page--custompage.tpl.php
 
It should rewrive all 'page1', 'page2', 'page3' pages.

#### Split preprocess_node by node type
    function template_preprocess_node(&$vars) {
      $function_name = 'template_preprocess_node_'. $vars['node']->type;
      if (function_exists($function_name)) {
        $function_name($vars, $vars['node']);
      }
    }

#### Use different templates for FULL && TEASER node
    function template_preprocess_node(&$vars) {
      $vars['theme_hook_suggestions'][] = 'node__' . $vars['node']->type . $vars['page'] ? '__full' : '__teaser';
    }

#### Render menu
    $links = menu_navigation_links('menu-site-menu');
    $attributes = array('class'=> array('links', 'site-menu'));
    $menu = theme('links', array('links' => $links, 'attributes' => $attributes));

#### Render custom menu
    $links = array(
      array(
        'href' => "node/1",
        'title' => t('Node 1'),
      ),
      array(
        'href' => "node/2",
        'title' => t('Node 2'),
      )
    );
    $menu = theme('links', array('links' => $links));

#### Render block
    $block = module_invoke('module_name', 'block_view', 'block_delta');
    render($block);

#### Render any node's field:
    $field = field_view_field('node', $node, 'field_name');
    return drupal_render($image)
    
#### Render image field with ImageMagick preset as link to content:
    $field = field_get_items('node', $node, 'field_image');
    $image = field_view_value('node', $node, 'field_image', $field[0], array(
      'type' => 'image',
      'label' => 'hidden',
      'settings' => array(
        'image_style' => 'thumbnail',
        'image_link' => 'content',
      ),
    ));
    return drupal_render($image)

#### You could also use entity API to achive this:
    $object = entity_metadata_wrapper('node', $node);
    $field = $object->field_name->value();
