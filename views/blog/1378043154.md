# Drupal 8: Changes
---

#### Using _Request_ instead of all global variables:

@see: https://api.drupal.org/api/drupal/core!vendor!symfony!http-foundation!Symfony!Component!HttpFoundation!Request.php/class/Request/8

    <?php
    use Symfony\Component\HttpFoundation\Request;

    class ExampleController implements ControllerInterface {
      public function getGlobalCookie(Request $request) {
        return $request->cookies->get(session_name());
      }
    }

#### Variables
D7: `variable_set('password_reset_timeout', 300)`

D8: `\Drupal::config('user.settings')->set('password_reset_timeout', 300)`

#### Token
D7: `drupal_get_token('hello')`

D8: `\Drupal::csrfToken()->get('hello')`

#### Redirect
D7: `drupal_goto(current_path());`

D8: 

    <?php
    use Symfony\Component\HttpKernel\Event\GetResponseEvent;
    
    class ExampleController implements ControllerInterface {
      public function doRedirect(GetResponseEvent $event) {
        $event->setResponse(new RedirectResponse(current_path()));
      }
    }

